
# ------------------------------------------------------------------------------
# Database configuration
# ------------------------------------------------------------------------------

# Docker image tag used for the Postgres service
POSTGRES_IMAGE=postgres:15

# Database user that HAPI connects with
POSTGRES_USER=my-hapi-postgres-user

# Password backing the Postgres connection
POSTGRES_PASSWORD=my-secure-hapi-postgres-pass

# Initial database name for HAPI data
POSTGRES_DB=my-hapi-database-name


# ------------------------------------------------------------------------------
# Main configuration
# ------------------------------------------------------------------------------

# Hostname for the HAPI FHIR server
HOST=localhost

# HTTPS port for clients talking to HAPI
PORT=8443

# HTTP listener used for ACME challenges and redirects
NGINX_HTTP_PORT=80

# Maximum upload size nginx allows before rejecting the body
NGINX_MAX_BODY_SIZE=100m


# ------------------------------------------------------------------------------
# HAPI configuration
# ------------------------------------------------------------------------------

# HAPI FHIR server image tag
HAPI_IMAGE=hapiproject/hapi:v8.4.0-3

# Increase Java heap size for HAPI container
HAPI_MAX_HEAP=3g

# Default page size for HAPI search queries
HAPI_PAGE_SIZE=50

# Internal HTTP port that HAPI listens on
HAPI_SERVER_PORT=8080

# Toggle security features (false for local sandbox)
HAPI_SECURITY_ENABLED=false


# ------------------------------------------------------------------------------
# SSL certificate configuration
# ------------------------------------------------------------------------------

# Local fallback cert path used before Let's Encrypt generates real certs
SSL_CERT_PATH=/etc/nginx/certs/hapi.crt

# Local fallback key path used before Let's Encrypt generates real certs
SSL_KEY_PATH=/etc/nginx/certs/hapi.key

# Domain that will receive the Let's Encrypt certificate
LETSENCRYPT_DOMAIN=example.com

# Contact email for certbot-generated certificates
CERTBOT_EMAIL=user@example.com

# Run certbot in staging for testing (false in production)
CERTBOT_STAGING=true
